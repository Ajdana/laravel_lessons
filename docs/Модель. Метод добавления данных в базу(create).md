### 1. Подготовка

- Создаём новый **роут** для создания записи:
    
    ```php
    Route::get('/post/create', [PostController::class, 'create']);
    ```
    
- В `PostController` создаём метод:
    
    ```php
    public function create()
    {
        // логика создания записи
    }
    ```
    

---

### 2. Подготовка данных

- Обычно данные приходят **массивом** (например, из формы или API).
    
- Для примера создаём массив:
    
    ```php
    $posts = [
        [
            'title' => 'Title 1',
            'content' => 'Content 1',
            'image' => 'image1.jpg',
            'likes' => 5,
            'is_published' => true,
        ],
        [
            'title' => 'Title 2',
            'content' => 'Content 2',
            'image' => 'image2.jpg',
            'likes' => 10,
            'is_published' => false,
        ],
    ];
    ```
    

---

### 3. Создание записи через модель

- Используем метод `create()` у модели:
    
    ```php
    Post::create([
        'title' => 'My Title',
        'content' => 'My Content',
        'image' => 'myimage.jpg',
        'likes' => 0,
        'is_published' => true,
    ]);
    ```
    
- Важно: `create()` принимает **массив ключей-значений**, где ключи = имена колонок в таблице.
    

---

### 4. Mass Assignment Protection (массовое заполнение)

- По умолчанию Laravel защищает модель от массового добавления данных.
    
- Нужно явно разрешить изменяемые поля:  
    В `Post.php`:
    
    ```php
    protected $guarded = []; // разрешить все поля
    ```
    
    или
    
    ```php
    protected $fillable = ['title', 'content', 'image', 'likes', 'is_published'];
    ```
    

---

### 5. Добавление массива постов

- Если нужно добавить несколько записей сразу:
    
    ```php
    foreach ($posts as $post) {
        Post::create($post);
    }
    ```
    

---

### 6. Итог

- `Post::create()` — удобный способ вставки записи в базу.
    
- Нужно либо указать `$fillable`, либо убрать защиту через `$guarded = []`.
    
- Для работы с массивом данных → `foreach`.
    
