### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ JSON

- –ö–æ–≥–¥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å (AJAX, fetch, axios –∏ —Ç. –¥.), **Laravel –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON**, –∞ –Ω–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É.
    
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ (–ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å title, content, image –∏ –¥—Ä. –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞).
    

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:

`return [     'title' => $post->title,     'content' => $post->content,     'image' => $post->image, ];`

---

### üîπ Laravel API Resources

- **Resource** ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É.
    
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–∞:
    

`php artisan make:resource PostResource`

- –í `PostResource` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫–∏–µ –ø–æ–ª—è –≤–µ—Ä–Ω—É—Ç—å:
    

`public function toArray($request) {     return [         'id'      => $this->id,         'title'   => $this->title,         'content' => $this->content,         'image'   => $this->image,     ]; }`

---

### üîπ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ—Å—É—Ä—Å–∞

- –î–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:
    

`return new PostResource($post);`

- –î–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (–∫–æ–ª–ª–µ–∫—Ü–∏—è):
    

`return PostResource::collection(Post::all());`

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Laravel –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å—ë –≤ –∫–ª—é—á `data` (—ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç JSON:API):
    

`{   "data": [     { "id": 1, "title": "Hello", "content": "World" },     { "id": 2, "title": "Test", "content": "Post" }   ] }`

---

### üîπ –ü–∞–≥–∏–Ω–∞—Ü–∏—è

- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `paginate()`, Laravel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
    

`return PostResource::collection(Post::paginate(10));`

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

`{   "data": [     { "id": 1, "title": "Post1" },     { "id": 2, "title": "Post2" }   ],   "links": {     "first": "http://127.0.0.1:8000/api/posts?page=1",     "last": "http://127.0.0.1:8000/api/posts?page=10",     "prev": null,     "next": "http://127.0.0.1:8000/api/posts?page=2"   },   "meta": {     "current_page": 1,     "from": 1,     "last_page": 10,     "per_page": 10,     "to": 10,     "total": 100   } }`

---

### üîπ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Update)

- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–∞ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å **–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç**:
    

`$post->update($request->all()); return new PostResource($post->fresh());`

---

### üîπ –û—à–∏–±–∫–∏ –∏ CSRF

- –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ Postman –º–æ–∂–µ—Ç –≤—ã—Å–∫–∞–∫–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∞ **419** (CSRF).
    
- –î–ª—è API –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å CSRF –≤ `App\Http\Middleware\VerifyCsrfToken`:
    

`protected $except = [     'api/*', ];`

---

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ REST API

- **REST API** (Representational State Transfer) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≥–¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ JSON-–æ—Ç–≤–µ—Ç—ã.
    
- –í Laravel REST API —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:
    
    - –º–∞—Ä—à—Ä—É—Ç—ã (`routes/api.php`),
        
    - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã,
        
    - —Ä–µ—Å—É—Ä—Å—ã (`php artisan make:resource`),
        
    - JSON-–æ—Ç–≤–µ—Ç—ã.
        

---

# ‚úçÔ∏è –ò—Ç–æ–≥

–¢–µ–ø–µ—Ä—å —Ç—ã —É–º–µ–µ—à—å:

1. –í–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON –≤–º–µ—Å—Ç–æ HTML.
    
2. –†–∞–±–æ—Ç–∞—Ç—å —Å `Resource` –∏ `Resource::collection`.
    
3. –ü–æ–¥–∫–ª—é—á–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é.
    
4. –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ REST API –≤ Laravel.
    

üëâ –ï—Å–ª–∏ —Ç–µ–±—è –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–ø—Ä–æ—Å—è—Ç _¬´—É–º–µ–µ—à—å –ª–∏ —Ç—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å REST API?¬ª_, —Ç—ã —Å–º–æ–∂–µ—à—å —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å:  
‚úÖ –î–∞, —É–º–µ—é ‚Äî —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏, –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ CRUD —á–µ—Ä–µ–∑ JSON.